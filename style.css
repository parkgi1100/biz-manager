/* BizDash - style.css (최종 수정 제안) */
:root {
  --main-font: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --accent-color: #007AFF;
  --accent-color-dark: #0056b3;
  --text-main: #22272E; /* 더 진한 메인 텍스트 */
  --text-light: #57606a; /* 이전보다 약간 더 명확한 보조 텍스트 */
  --text-on-accent: #ffffff;
  --bg-color: #f6f8fa;    /* 매우 밝은 회색 배경 */
  --content-bg: #ffffff;
  --border-color: #d0d7de; /* 이전보다 약간 더 명확한 테두리 */
  --shadow-sm: 0 1px 3px rgba(27,31,36,0.06);
  --shadow-md: 0 3px 8px rgba(27,31,36,0.09);
  --shadow-lg: 0 10px 20px rgba(27,31,36,0.1);
  --frame-width: 600px;
  --frame-radius: 10px;
  --card-radius: 8px;
  --sidebar-width: 250px;
  --header-height: 56px; /* 고정 헤더 높이 */
  --input-height: 42px;
  --button-height: 42px;
  --income-color: #1f883d; /* GitHub 스타일 초록 */
  --expense-color: #cf222e; /* GitHub 스타일 빨강 */
  --profit-color: var(--accent-color);
  --transition: 0.2s ease-in-out;
}

*, *::before, *::after { box-sizing: border-box; }

body {
  background: var(--bg-color); margin: 0; font-family: var(--main-font);
  color: var(--text-main); line-height: 1.55; display: flex;
  justify-content: center; align-items: flex-start; min-height: 100vh;
}

/* === 고정 UI 요소 (햄버거, 로그인) === */
.fixed-ui { position: fixed; z-index: 1020; }
.hamburger.fixed-ui {
  left: 15px; top: calc((var(--header-height) - 38px) / 2); /* 헤더 중앙 정렬 */
  background: var(--accent-color); color: var(--text-on-accent); border: none;
  border-radius: 50%; width: 38px; height: 38px; font-size: 1.2rem; cursor: pointer;
  box-shadow: var(--shadow-md); display: flex; align-items: center; justify-content: center;
  transition: background var(--transition), transform var(--transition);
}
.hamburger.fixed-ui:hover { background: var(--accent-color-dark); transform: scale(1.05); }

.auth-area.fixed-ui {
  right: 15px; top: calc((var(--header-height) - 38px) / 2); /* 헤더 중앙 정렬 */
  display: flex; align-items: center;
}
.login-box {} /* JS로 display 제어 */
.login-btn {
  background: var(--content-bg); border: 1px solid var(--border-color); color: var(--accent-color);
  border-radius: 20px; font-size: 0.8rem; font-weight: 500; padding: 7px 16px;
  cursor: pointer; box-shadow: var(--shadow-sm); transition: all var(--transition);
}
.login-btn:hover { background: var(--accent-color); color: var(--text-on-accent); }

.profile-menu {} /* JS로 display 제어 */
.user-avatar { /* 이전과 유사, 크기/테두리 조정 */
  width: 36px; height: 36px; border-radius: 50%; cursor: pointer;
  border: 2px solid var(--accent-color); /* 프로필 사진 강조 */
  box-shadow: var(--shadow-sm); object-fit: cover; background-color: #eee;
}
/* .profile-dropdown 등은 이전 CSS와 유사하게 유지, 필요시微調整 */

.mobile-frame {
  position: relative; width: 100%; max-width: var(--frame-width);
  min-height: 100vh; background: var(--content-bg);
  box-shadow: var(--shadow-lg); overflow-x: hidden; overflow-y: auto;
  display: flex; flex-direction: column;
  padding-top: var(--header-height); /* 고정 헤더만큼 내부 컨텐츠 밀기 */
}
@media (min-width: 640px) { /* --frame-width 보다 약간 넓을 때 */
  .mobile-frame { margin: 20px auto; border-radius: var(--frame-radius); min-height: calc(100vh - 40px); }
}

/* ... (login-popup, sidebar, overlay 등은 이전 CSS와 유사하게 유지하되, 폰트/색상 변수 일관성 적용) ... */
.login-popup { /* 이전 CSS 기반으로, 폰트/색상 변수 사용 */ }
.social-btn { /* 이전 CSS 기반으로, 폰트/색상 변수 사용 */ }
.sidebar { /* 이전 CSS 기반으로, 폰트/색상 변수 사용, top: var(--header-height) 고려 가능 */
  position: fixed; left: 0; top: 0; bottom: 0; width: var(--sidebar-width); /* top 0으로 변경, 헤더와 독립적 */
  background: #ffffff; box-shadow: 3px 0 10px rgba(0,0,0,0.07);
  transform: translateX(-100%); transition: transform var(--transition);
  z-index: 1010; display: flex; flex-direction: column;
  padding: 0; border-right: 1px solid var(--border-color);
}
/* sidebar-header, ul, a 등 이전 스타일 유지하면서 폰트/색상 변수 적용 */

.main-content-wrapper { width: 100%; flex-grow: 1; display: flex; }
.main-content {
  padding: 20px; 
  width: 100%; flex-grow: 1;
  /* padding-top 제거 (mobile-frame에서 이미 처리) */
}
@media (min-width: 600px) {
  .sidebar.show ~ .main-content-wrapper .main-content { /* fixed 사이드바일 경우, main-content의 margin-left 조정 */
    margin-left: var(--sidebar-width); width: calc(100% - var(--sidebar-width));
  }
   .sidebar.show ~ .main-content-wrapper { margin-left: var(--sidebar-width); }
}

/* === 탭 및 공통 컨텐츠 스타일 === */
.tab { display: none; animation: fadeIn 0.3s ease-out; }
.tab.active { display: block; }
/* @keyframes fadeIn 이전과 동일 */

.tab-header {
    margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color);
    display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;
}
.tab-header h1 { font-size: 1.6rem; margin: 0; font-weight: 700; }
.tab-header .period-filter { background: none; box-shadow: none; border: none; padding: 0; margin:0; }

.card { /* 이전 CSS의 .card 스타일 유지하되, 약간의 미세 조정 */
  background: var(--content-bg); border: 1px solid var(--border-color);
  border-radius: var(--card-radius); padding: 18px; /* 패딩 약간 줄여서 밀도 높임 */
  margin-bottom: 18px; box-shadow: var(--shadow-sm);
}
.card h3 { /* 카드 내 섹션 제목 */
  font-size: 1rem; color: var(--text-main); margin: 0 0 12px 0; font-weight: 500; /* 두께 보통 */
  padding-bottom: 8px; border-bottom: 1px solid #eef0f2; /* 더 연한 구분선 */
}

/* === 날짜 입력칸 개선 === */
.custom-date-input {
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
  background-color: #fcfdff; /* 밝은 배경 */
  border: 1px solid var(--border-color);
  border-radius: 6px; /* 약간의 둥글기 */
  padding: 0 12px; /* 내부 여백 */
  font-size: 0.9rem; /* 폰트 크기 */
  height: var(--input-height); /* 다른 입력 필드와 높이 통일 */
  min-width: 130px; /* 최소 너비 */
  color: var(--text-main);
  transition: border-color var(--transition), box-shadow var(--transition);
}
.custom-date-input:focus {
  outline: none;
  border-color: var(--accent-color);
  box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
}
/* 브라우저 기본 아이콘 숨기기 시도 (완벽하지 않을 수 있음) */
.custom-date-input::-webkit-calendar-picker-indicator { opacity: 0.8; cursor: pointer; }
.custom-date-input::-webkit-inner-spin-button { display: none; }
.date-separator { color: var(--text-light); margin: 0 5px; }


/* === 대시보드 "한눈에 보기" 디자인 === */
.dashboard-glance { /* 대시보드 메인 컨텐츠 영역 */
    display: grid;
    gap: 18px; /* 카드 간 간격 줄임 */
    /* 한눈에 들어오도록, 기본 1컬럼, 특정 너비 이상에서 2컬럼으로 변경 가능 */
    grid-template-columns: 1fr; 
}
@media (min-width: 768px) { /* 태블릿 이상에서 2컬럼 시도 */
    .dashboard-glance {
        /* grid-template-columns: repeat(2, 1fr); */
        /* 또는 특정 영역별로 컬럼 지정 */
    }
    .glance-row { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
}

.summary-panel.card { /* 요약 패널은 항상 가로로 */
  display: flex; justify-content: space-around; gap: 10px; flex-wrap: wrap;
  padding: 15px; /* 패딩 줄임 */
}
.summary-item { /* 개별 요약 항목 */
  flex: 1; min-width: 100px; text-align: center; padding: 10px 5px;
  border-radius: 6px; background: #f8f9fa;
}
.summary-label { font-size: 0.75rem; margin-bottom: 4px; }
.summary-value { font-size: 1.3rem; } /* 이전보다 약간 작게 하여 밀도 높임 */

.chart-container.card { padding: 15px; }
canvas#trendChart { height: 200px !important; } /* 높이 약간 줄임 */

.compare-panel.card { padding: 15px; font-size: 0.85rem; }
.compare-panel h3 { font-size: 0.9rem; }

.best-panel.card { padding: 15px; }
.best-panel.card h3 { font-size: 0.9rem; }
.best-panel.card ul { gap: 8px; }
.best-panel.card li { padding: 8px 0; font-size: 0.85rem; gap: 8px; }
.best-panel.card li .rank-icon { font-size: 0.9em; }

.recent-entries.card { padding: 15px; }
.recent-entries.card h3 { font-size: 0.9rem; }
.recent-entries.card ul { max-height: 180px; /* 높이 줄여 한눈에 */ }
.recent-entries.card li.dashboard-recent-item { /* 대시보드용 최근 거래 아이템 */
  padding: 8px 5px; font-size: 0.8rem; display: flex; justify-content: space-between;
  border-bottom: 1px solid #f0f2f5; border-left: none;
}
.recent-entries.card li.dashboard-recent-item:last-child { border-bottom: none; }
.recent-entries.card li.dashboard-recent-item .item-date { color: var(--text-light); flex-basis: 50px; }
.recent-entries.card li.dashboard-recent-item .item-category { flex-grow: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; padding: 0 5px;}
.recent-entries.card li.dashboard-recent-item .item-amount { font-weight: 500; flex-basis: 70px; text-align: right; }
.recent-entries.card li.dashboard-recent-item .item-amount.income { color: var(--income-color); }
.recent-entries.card li.dashboard-recent-item .item-amount.expense { color: var(--expense-color); }
.view-all-link { font-size: 0.85rem; margin-top: 10px; }


/* === 폼 스타일 (거래입력 등) === */
.entry-form.card { padding: 20px; }
.form-grid { /* 이전과 유사 */ }
.form-group label { font-size: 0.8rem; }
.entry-form input[type="text"], .entry-form input[type="number"],
.entry-form select, .entry-form textarea,
.entry-form .custom-date-input { /* .custom-date-input도 포함 */
  height: var(--input-height); font-size: 0.9rem; padding: 0 10px;
  /* 나머지 스타일은 custom-date-input 및 공통 input에서 상속 */
}
.entry-form textarea { height: auto; min-height: 70px; padding: 8px 10px; }
.submit-btn, .filter-btn { height: var(--button-height); font-size: 0.9rem; }

/* ... (나머지 CSS 규칙들은 이전 제안을 기반으로 하되, 폰트/색상/여백 변수 일관성 확인 및 미세 조정) ... */
/* 예: .data-list li, .qna-item 등도 폰트 크기나 내부 여백을 조금씩 줄여 밀도를 높일 수 있습니다. */

/* 설정 탭의 내보내기 옵션 */
#settingsTab .form-group { margin-bottom: 15px; }
#settingsTab .form-group label { display: block; font-weight: 500; margin-bottom: 8px; }
#settingsTab .form-group select {
    width: 100%; height: var(--input-height); padding: 0 10px; font-size: 0.9rem;
    border: 1px solid var(--border-color); border-radius: 6px;
}
#settingsTab .form-hint { font-size: 0.8rem; color: var(--text-light); margin-top: 5px; }


/* 모바일 반응형 (이전 CSS 유지하되, 한눈에 보기 좋게 조정) */
@media (max-width: 768px) {
  .glance-row { grid-template-columns: 1fr; } /* 대시보드 작은 카드들도 한 줄로 */
}
@media (max-width: 600px) {
  :root { --header-height: 50px; }
  .mobile-frame { padding-top: var(--header-height); }
  .main-content { padding: 15px; padding-top: 0; } /* main-content 자체의 top padding은 제거 또는 최소화 */
  .tab-header { margin-bottom: 15px; padding-bottom: 10px; }
  .tab-header h1 { font-size: 1.3rem; }
  .card { padding: 15px; margin-bottom: 15px; }
  .card h3 { font-size: 0.95rem; }

  .hamburger.fixed-ui { top: calc((var(--header-height) - 36px) / 2); width: 36px; height: 36px; font-size: 1.1rem; }
  .auth-area.fixed-ui { top: calc((var(--header-height) - 36px) / 2); }
  .user-avatar { width: 34px; height: 34px; }
  
  .custom-date-input, .entry-form input, .entry-form select, .entry-form textarea {
    height: calc(var(--input-height) - 4px); font-size: 0.85rem;
  }
  .submit-btn, .filter-btn { height: calc(var(--button-height) - 4px); font-size: 0.85rem; }

  .summary-item { min-width: calc(33.33% - 8px); padding: 8px 5px;} /* 요약 카드 한 줄에 3개씩 (더 작게) */
  .summary-label { font-size: 0.7rem; }
  .summary-value { font-size: 1.1rem; }
  canvas#trendChart { height: 180px !important; }
}
